---
layout: default
---

# 软件工程方法实践与验证
{:.no_toc}

* 目录
{:toc}

## 1、课程内容与要求

**1.1、课程概述**

软件工程是实践者的研究方法。它来源与软件开发实践，是实践者**最佳实践**的总结。[软件工程在企业中到底起多大作用](https://www.zhihu.com/question/41338706)？几乎所有参与过实习的同学都会提出类似的问题。悲观者就是怎么快挣钱怎么来，软件工程用不上；乐观者观点就是要用“最先进方法”，这个企业就是“土鳖”。显然，悲观者会把软件做的一团糟，乐观者会被领导认为好高骛远（不从历史、经济、资源、地域现状看问题的技术流）。因此，需要深入软件工程实践并在工作中验证它的价值，不断提升和改进软件工程应用能力。课程内容如下图：

![](images/0-content.png)

**参考教材**

* [美] Hassan Gomaa 著，彭鑫，吴毅坚，赵文耘 等译，软件建模与设计：UML、用例、模式和软件体系结构，机械工业出版社，2014，ISBN：9787111467595

**作业与考核**

学生 8-10 人一组。每周讨论 1，2 个话题，每个组准备 PPT。

* 课堂参与 50% ：每人至少讲一次。每个团队缺一次，团队每人减 5 分
* 研究报告 30% ：每人提交一个软件工程实践专题研究报告。例如：“面向资源的设计 - 服务 API 设计方法与支撑工具”
* 课程实践 20% ：高性能 web 开发 -- 优惠卷发放系统。 
    - 以组为单位，组织竞赛。
    - 限制：服务器电脑 4-5 台，客户机数量不限
    - 具体环境、竞赛规则自定（第九周提交）
    - 按性能（每分钟平均发放优惠卷给客户的数量）排名给分


**1.2、软件工程与软件设计**

软件是具有特定功能计算机可以执行的代码与数据，包括执行程序、数据内容、程序生产与产品运维需要的各种文档。

**软件与用户**。软件以用户为中心，用户体验是软件设计的核心。-- 软件设计是“玄学”

* Customers = Stakeholders？ 他们如何影响软件设计
* Customers 是谁？ 软件设计如何定位市场。 “软件产品要先有，在做好”对吗？

**软件与质量**。产品质量是用户体验的基础，高质量是软件产品的根本。 -- 软件设计是科学

* 软件的质量属性？
* 用户体验好 = 高质量？

**xDD与工程实践**。基于经验（大家都认为是对的）的软件开发方法

* Model Driven Development (MDD) 
    - 什么是 MDD？
    - MDD 在软件开发中应用。[使用可视化和建模更改设计](https://docs.microsoft.com/zh-cn/visualstudio/modeling/scenario-change-your-design-using-visualization-and-modeling?view=vs-2015)
    - Model Driven Architecture（MDA） 模型驱动的架构
* Domain Driven Design?Development (DDD) 
* Feature Driven Development?Design (FDD)
* Test Driven Development (TDD)
    - [ATDD? BDD?](https://www.zhihu.com/question/20161970) 不明觉厉！

**软件工程**

* [概念、知识体系与标准](https://sysu-swsad.github.io/swad-guide/01-nature-software)

## 3、业务建模与分析

“他山之石，可以攻玉”。设计任何软件之前，都需要借鉴已有成熟软件的业务思路与方法，再创新性的满足客户需要。

目的：了解业务建模的基本方法与工具；理解核心业务建模的价值

1. 收集三种以上同类业务软件（如背单词），对核心业务（背单词）业务过程建模。对比业务过程之间的差异。然后，从市场定位（服务对象）、原理方法等角度分析设计师的设计选择（通常都是市场导向的）
2. 观察产品发展（版本变化）的历史，对其中某个核心业务过程建模。分析业务过程进化与用户、技术、市场等因素的关系。例如：作为个人快递的最后一公里，投递柜（以前类似的产品是邮箱）的产生与普及改变了人们的生活。
    - 1、科技公司发明了投递柜，它们自建了投递柜以及远程控制系统。注册的投递员在推广期免费使用投递柜。由于缺乏资源，仅能使用y移动平台向客户发送短信通知。
    - 2、随着产品推广，x公司与各大快递z公司达成协议。x公司在快递柜上添加了二维码扫描装置，z公司的快递员不仅可在快递柜上登陆（由z公司提供认证服务），且可扫描快递单号，投递入柜后自动由z公司发短信给客户。客户取件后，自动发送给z公司投递完成。
    - 3、x公司进一步优化服务，开发了微信小程序实现扫码取快递，并开发了寄件业务。如果用户关注了该公司公众号，直接通过过公众号推送给用户取件码等信息。不再发送短信。

## 4、用例建模

“慎思之，明辨之，笃行之。” 用在软件开发中就是：做正确的事，把事做正确。Do right thing 具体任务就是编写软件需求规约，其核心就是用例建模。描述、定义一个软件系统是软件开发的基础任务。然而，用例建模面临许多挑战，如技术创新、业务创新或交互创新发生时，不仅很难正确描述用户的使用产品过程。这直接导致了迭代方法的使用。（似乎什么都想做，每个方面都想超越同行，又似乎做不来或没意义，这个感觉你有么？）

目的：探讨 UML 用例图和 UML活动图 在用例建模中的使用；掌握识别用例的技巧，理解用例模型与开发（迭代）计划的关系。

1. 选择一款你熟悉经常使用的软件（通常它只有一个主业务），用自然语言描述它，并在此基础上给出用例模型。例如：自然语言描述版本 [某词斩](某词斩应用.pdf)。【备注，如果产品业务很多，如淘宝等，请选择一个功能模块】
    - 这个任务需要提供两个文档，分别是自然语言描述和用例模型
2. 选择你曾经开发或设想开发的创新产品，给出用例模型，并将用例模型转化为 Scrum 的 Backlog（迭代计划）。请描述建模方法与迭代技巧，并在模型中突出创新点
    - Scrum 可参考[《硝烟中的Scrum和XP》](https://www.infoq.cn/article/scrum-xp-from-the-trenches) 
    - 涉及敏捷开发管理工具（如：[腾讯 TAPD](https://www.tapd.cn/)） 的需求规划、迭代计划与故事墙的使用方法与技巧
3. 选择一组产品（最好是同类产品）分别给出用例模型，并用特殊颜色标注 VIP 或 收费的用例，总结 VIP 或 收费的用例或特性有哪些特点。例如：词典是受众很广却很难变现的产品，以有道词典为例，它有一个“发音指导”特征附在单词音标之后，每天只能免费用2次哦！
4. 以一款你参与开发的软件产品为例，描述用例建模实践。
    - 如果企业实践中没有建模，你必须给出 UML 用例图 以及 确当的UML活动图，并对比有模型和没模型的差异
    - 如果是产品扩展与升级，你必须用用例图、活动图描述新旧产品的变化
    - 实际软件开发用例建模实践比较多样，如有疑问请邮件咨询

## 5、数据建模

根深则叶茂。数据对象（实体对象）设计几乎是所有软件成功的关键，因为每个业务/用例的实现都需要数据的支持。工程中具体体现是实体对象及其关系的不同变化导致的开发成本不同。例如：一对多关系设计成一对一，则于其相关的数据层、逻辑层、表示层就要重新开发；仅是添加个别字段，则工作量很小；如果增加一个实体，则工作量依赖于它关联的实体。

目的：了解领域建模的方法与相关UML模型；掌握识别实体、属性和关联的技巧；验证模型的正确性。

1. 选择一款你熟悉的软件的某一业务使用流程，从中找出所有业务概念，给出用 UML 类图表示的领域模型（实体对象模型）。如果在该业务中某个实体对象存在生命周期，请用 UML 状态图描述。
    - 领域建模通常包含 一组类图 和 状态图
    - 需要给出建模过程，包括领域建模的设计要点等
    - 状态图通常用于表达在零售业务中订单（创建到关闭状态的变迁）
2. 数据建模方法很多，请根据你个人企业实践经验，介绍企业实战数据建模方法的方法与数据库设计工具
    - 在结构化设计中，采用数据流图、功能（处理）结构图、数据字典
    - 在面向对象设计中，采用领域模型，再逻辑建模
3. 给定一个数据库设计（用逻辑模型表示），请给出评审与验证正确性的实践方法
    - 假设有任何你要的前期资料，如：业务需求、用例描述、活动模型、领域模型、状态模型、甚至是原型界面等
    - 实体建模通常是面向问题领域设计。为了控制评审规模，请聚焦一个业务的部分场景
4. 介绍你熟悉产品的用户认证与鉴权功能相关的数据设计，必须满足以下两点：
    - 给出领域模型或数据库逻辑设计
    - 必须介绍它与现有成熟框架，如 Apache shiro 或 Spring Security 或其他框架，协同工作的原理。
5. 你们认为更重要或更有趣的内容

## 7、用例建模与数据建模案例分析

案例样本：[Asg-RH.pdf](https://sysu-swsad.github.io/swad-guide/material/Asg_RH.pdf)

这是21世纪初的一个在线旅游服务网站的定旅馆业务的操作过程描述。互联网业务与电子商务高速发展，一个15年前的网站与现在的网站有哪些差别？通过软件建模，你可以：

* 发现系统的业务服务、技术与数据内容的变迁
* 了解文化差异的影响
* 互联网应用创新的规律
* 为了争夺目标客户（流量）的努力

更重要的，通过建模可以让你更好的规划和组织软件产品开发，包括：

* 定义产品特征（Backlog）
* 支持迭代计划
* 安排技术学习与技术原型，消除技术风险
* 支持数据库设计
* 支持 API 设计
* 粗略估算项目工作量

参考对比网站，例如：

* [去哪儿](https://hotel.qunar.com/)
* [携程](https://hotels.ctrip.com/)
* [爱彼迎/airbnb](https://www.airbnb.cn/)
* [缤客/Booking](https://www.booking.com)
* [途家民宿](https://www.tujia.com/)


## 9、软件开发模型与项目管理方法

“组织的目的是使平凡的人做出不平凡的事”（[彼得·德鲁克](https://baike.baidu.com/item/%E5%BD%BC%E5%BE%97%C2%B7%E5%BE%B7%E9%B2%81%E5%85%8B)）。软件项目管理就是项目管理知识与软件领域（开发、运维与维护）具体特点相结合的产物。

软件项目管理要点：

* 具有专业知识的软件人的管理 - 推荐读物《[卓有成效的管理者](https://book.douban.com/subject/4020857/)》
* 高风险软件项目的事务的管理 - 推荐读物《[硝烟中的Scrum和XP](https://www.infoq.cn/article/scrum-xp-from-the-trenches/)》

目的：了解软件项目管理的复杂性；掌握 瀑布模型 与 迭代与进化的模型（如RUP，SCRUM）两种业界常用的软件开发模型；了解软件项目管理工具（如：[腾讯 TAPD](https://www.tapd.cn/)）。

1. 根据你的经历，结合案例介绍看板在软件项目开发中的使用经验。可包括但不限于：
    - 看板的模板
    - 看板周期（周，迭代）
    - 设立合理看板项（工作项）的方法与经验
    - 通过看板数据评估成员能力与工作量
    - 处理未完成任务的经验与技巧
2. 甘特图是项目任务与进度管理的重要工具，请选择以下一个话题：
    - 结合案例介绍甘特图的制作要点
        - 必须与开发过程模型结合
    - 如果你熟悉敏捷（Scrum）方法
        - 管理 backlog 的方法
        - 利用“燃尽图”控制项目进度的方法
3. 例会是项目组日常正式沟通的渠道。请介绍你的经验，可包括但不限于：
    - 如何避免把例会开成技术研讨会（技术研讨浪费多数人时间）
    - 作为项目组成员，如何准备每周例会
    - 软件项目例会议程
    - 例会必须达成的成果
4. 围绕软件开发过程模型的需要，介绍你熟悉的项目管理工具的使用。必须支持内容包括：
    - 需求管理
    - 进度管理
    - 看板
    - 问题管理
5. 项目管理内容很多，如大型项目的沟通管理、风险管理等方面的经验

## 11、软件架构概念与设计方法

【企业投标或方案用的图】[软件系统架构图-参考案例](https://wenku.baidu.com/view/c8fede1ff02d2af90242a8956bec0975f465a443.html)。尽管不是本课程内容，但在中国它们是行之有效的。这些玄乎（吹水）的图，是架构师能力的一部分。

架构师的任务：

* 面对客户（含非专业投资人），用图或表描绘系统业务与服务架构、系统技术结构，技术原理与方法等
    - 业务支持（产品“价值”）
    - 关键技术（产品“先进性”）
    - 安全、客户定制、国际化等等特征
* 面向产品开发团队
    - ？
* 面向运维团队
    - ？

软件架构的概念：P144

* 结构性元素 / 软件元素
* 接口 / 外部属性、行为与事件 / 元素之间协作行为
* 研究元素的设计与组合的方法与原则

软件架构设计：

* 给出一组用结构性元素表达的领域问题解决方案，即一组关于软件系统的组织的决策
* 架构设计方案是领域与平台相关的，即不同技术环境（年代）、不同应用领域（如在线电子商务，企业零售），其解决方案是有区别的
* 架构设计（的元素和接口、组合）是有规律可循的。具体领域这些元素越具体，例如 IBM SOA解决方案工程师，他的解决方案将依赖 IBM 产品与工具。更一般，这些规律表达为
    - 风格 Styles
    - 模式 Patterns

软件架构风格：

* 关于元素、接口、协同的设计指南与设计约束
* 例如：层次架构风格。软件元素是层，上层可以访问下层，每个层具有明确的职责（高内聚）。例如：一个 web 应用

软件架构模式：

* 指特定风格下，典型设计场景下特定问题，软件元素设计与组合的解决方案
* 通常设计模式名称、典型设计场景与问题说明、设计图（静态、动态图）、适用范围与局限分析、相关设计模式等部分构成
* MVC 设计是什么？

应用软件开发框架（Application framework / Software framework）：

* 是软件架构在特定语言、技术下的规范化编程模板，让程序员聚焦业务相关的核心元素实现，屏蔽系统的复杂性
* 例如：Java  Spring MVC 让用户聚焦三类元素的实现


软件系统分解与软件元素：

| 架构？| 设计类型 | 软件元素 | 风格 | 模式 | 备注 |
|------|----------|---------|------|-----|-----|
| 否 | 编程与算法设计 | 指令/语句/命令 | Code Convetion | 顺序、分支、循环 <br> 数据结构、算法 | 伪代码 |
| - | 结构化设计 | 模块/函数、数据实体 | ？ | ？ | 数据流图、模块（功能）结构图 |
| 否 | 面向对象设计 | 对象 | [OO原则](OOPrinciples.pdf)| OO设计模式 | 类图、顺序图 |
| 否 | 原型设计 | 界面 <br> 按钮、文本框等 | ？ | ？ | 模板 |
| 否 | 数据设计 | 实体 | 关系设计准则 | ？ | 领域模型、实体关系模型 |
| 是 |         | 子系统 | ？ | ？ | 集成通讯图（P161），系统上下文图/顶层数据流图，部署图|
| 是 |         | 层/业务模块 | 层次风格 <br> C/S, B/S, 多层 | ？ | 包图，部署图 |
| 是 | 面向中间件设计 | 部件 | ？ | ？ | 模块（功能）结构图、组件图、组件协作图，部署图 |
| 是 | 面向消息的设计 |消息中间件| 同步、异步 <br> 定时、延时 | 生产/消费、负载均衡 <br> 过滤、路由 ... | RabbitMQ , Redis，部署图 | 
| 是 | 面向服务设计 | 服务 | [Restful](https://docs.microsoft.com/zh-cn/azure/architecture/best-practices/api-design) | [云服务模式](https://docs.microsoft.com/zh-cn/azure/architecture/patterns/) | 服务依赖图，部署图 |

一般来说，架构设计多数情况下会设计 **部署图**。用于描述了网络、服务器的组织与使用

软件架构设计方法论：

* 多视图设计方法（盲人摸象法）
    - FDD（特征驱动开发） - 软件特征：功能 + 质量要素（关于质量要素参见微软架构设计指南）
        - 功能（F）需求：业务功能，安全特征等
        - 非功能特征：
    - 多视图：不同利益相关人站在不同角度，思考一个系统的设计与实现，即观察、分解系统，得到不同角度的软件元素，以支持软件质量目标实现的成本、技术等，尤其是软件产品的中长期收益，通过技术选型与设计建模来解释或化解当前与潜在的产品风险。
        - 产品用户视角：功能结构
        - 开发者视图：包图（包或命名空间结构），软件层次结构图，组件图，交互图
        - 运维者视图：网络结构图，部署图
        - 安全管理视图：信息安全标准与方案
    - 架构设计视图与领域的关系
        - 关注产品具体语言实现：通常会直接关注软件应用框架与相关语言与技术
        - 关注产品在特定行业应用：通常会关注特定产品的组合。如 IBM 架构师，就关注 IBM 产品在特定领域应用结构
        - 关注云应用开发：通常关注服务的构建、组合、相关平台技术与实现
    - 一般架构设计
        - [运用RUP 4+1视图方法进行软件架构设计](https://www.ibm.com/developerworks/cn/rational/06/r-wenyu/)
* CMU/SEI（卡内基梅隆·软件工程研究所） ATAM（Architachture Tradeoff Analysis Method） 方法
    - 架构与软件质量目标之间关系分析
    - 案例：[票务系统架构案例分析](https://wenku.baidu.com/view/11b47770804d2b160b4ec0c9.html)

软件架构设计指南：

* [云应用程序体系结构指南](https://docs.microsoft.com/zh-cn/azure/architecture/guide/)

## 12、系统分解与 基于资源的 API 设计

1、 随着云计算技术的发展，软件系统通产会采用 云 + 端结构。即一个中小型软件系统分解为 客户端 和 云端 两个部分。本设计要求是，采用 RESTful 架构风格，设计云端 API，使得客户端与云端开发分离，做到独立开发与调试。

* 客户端技术限制
    - 技术 javascript 或 移动平台。通常采用跨平台开发框架
    - 表示层采用 MVC 架构，实现人机交互；采用非关系数据库缓存数据，保存会话数据；采用 promise 实现与云端的异步通讯（特例： web socket 与 web hooks）
        - 例如： UVE 框架及其扩展
    - 客户端代码存放在静态网站上或移动app商店中
* 服务器端技术限制
    - 采用 HTTP/Rest 协议与客户端通讯。单入口访问，例如：api.myapp.com
    - 假设服务端是无状态服务，具有缓存加速资源获取
    - 统一的接口： REST is defined by four interface constraints: identification of resources; manipulation of resources through representations; self-descriptive messages; and, hypermedia as the engine of application state（HATEOAS）
    - 层次化结构
    - REST 风格定义：[Representational State Transfer (REST)](https://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm)
* API 设计流程与工具
    - 假设你已经设计的界面原型，例如：一个公共博客网站的界面
    - 从界面提取了领域概念，并给出了领域模型
    - 根据界面操作要求，得到了每个实体的 CRUD 操作，以及需要的链接或导航按钮（HATEOAS 的要求）
    - API 设计与测试工具：swagger，Postman，zpizza 等
    - Rest API 设计规范
        - 微软: [Web API 设计](https://docs.microsoft.com/zh-cn/azure/architecture/best-practices/api-design)
        - Github: [Git REST API v3](https://developer.github.com/v3/)
* 设计要求：
    - 选择一个网站的的主业务（如博客发布与查看、定旅馆）部分页面
    - 给出领域模型
    - 根据网页，整理实体的 CRUD 操作，导航链接
    - 参考相关设计标准，使用设计工具给出 API 设计
    - 暂不考虑 授权、Agent（浏览器客户端）限制、流量限制 等
    - 暂不考虑 跨域、跨时区、多语言访问，如 CORS、jsonP 等
    - 使用 PPT 介绍 API 设计过程与方法


2、系统分解是软件产品设计的基础。一般来说，系统分解方法可以按业务、用户、技术三个维度去分解（解耦）成系统、子系统、插入式模块，以适应不同行业、不同规模的用户。然而，这样的分解事实上是根据行业经验性形式的。以下是一些经验性的指南：

* 业务划分法
    - 业务种类：以旅游服务（去哪儿）为案例：旅馆、机票、门票 ...
    - 共性业务：用户管理、支付服务、搜索服务 ...
    - 业务规模：业务规模越大，系统划分越细致。如我们常说的财务系统仅指 账务管理系统，其他有计划财务、存货管理、报销服务、合并报表 ...
* 用户划分法
    - 组织架构（职责）：人事管理、财务管理、仓储管理 ...
    - VIP、地理位置（文化差异）、年龄 ...
* 技术划分发：
    - 共性技术支撑：工作流引擎、规则引擎、搜索引擎、人脸识别、消息中心 ...
    - 客户端：IOS，安卓，PC ...


如果您参与过大型软件产品开发，或有在大型企业技术咨询岗的经历。（注：请不要使用课程作业或竞赛用作品为案例）

* 介绍针对不同用户类型的软件决解方案。如你在 ERP 企业过咨询，有针对不同行业解决方案案例
* 或者 产品架构设计方案
 














